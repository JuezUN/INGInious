let update_hint_id=null;function displayAlert(t,n,e){alert=$("#"+t),alert.text(n),alert.show(),setTimeout(function(){clearAlert(t)},e)}function clearAlert(t){let n=$("#"+t);n.fadeTo(100,1).slideUp(250,()=>{n.slideUp(250),n.text("")})}function loadHintContentCodeEditor(){$("#hint_content_container").show(),codeEditors.task_hints_content.refresh()}function addHintOnTable(t,n){let e=$("#hint_KEY").clone().html();e="<tr id="+("hint_"+n)+">"+(e=e.replace(/KEY/g,n))+"</tr>",$("#task_hints_table tbody").append(e),$("#hint_info_id_"+n).val(t.id),$("#hint_info_title_"+n).val(t.title),$("#hint_info_penalty_"+n).val(t.penalty),$("#hint_info_content_"+n).text(t.content)}function updateHintOnTable(t,n){$("#hint_info_title_"+n).val(t.title),$("#hint_info_penalty_"+n).val(t.penalty),$("#hint_info_content_"+n).text(t.content)}function loadSavedHintFromTable(t){return{id:$("#hint_info_id_"+t).val(),title:$("#hint_info_title_"+t).val(),penalty:$("#hint_info_penalty_"+t).val(),content:$("#hint_info_content_"+t).val()}}function onEditHintClick(t){update_hint_id=t;const n=loadSavedHintFromTable(t);$("#hint_title").val(n.title),$("#hint_penalty").val(n.penalty),codeEditors.task_hints_content.getDoc().setValue(n.content),$("#hints_edit_modal").modal("show")}function deleteHints(t){const n=$("#task_hints_table tbody tr").length;let e=[];for(let i=0;i<n;i++)i!==t&&e.push(loadSavedHintFromTable(i));$("#task_hints_table tbody").html(""),$.each(e,function(t,n){addHintOnTable(n,t)})}function eraseModalInputs(){$("#hint_title").val(""),$("#hint_penalty").val(0),codeEditors.task_hints_content.getDoc().setValue("")}$("#save_hint_button").on("click",function(t){t.preventDefault();let n=$.extend({title:"",penalty:0,content:""},{title:$("#hint_title")[0].value,penalty:parseFloat($("#hint_penalty")[0].value).toFixed(1),content:$("#hint_content")[0].value});const e=n.content.match(/^\s*$/);if(!n.title||e){return void displayAlert("hint_edit_alert","You need to complete mandatory fields",1e4)}if(isNaN(n.penalty)){return void displayAlert("hint_edit_alert","Hint penalty needs to be a number",1e4)}if(0>n.penalty||n.penalty>100){return void displayAlert("hint_edit_alert","Hint penalty must be between 0.0% and 100.0%",1e4)}let i=$("#task_hints_table tbody tr").length;0===update_hint_id||update_hint_id?updateHintOnTable(n,update_hint_id):addHintOnTable(n,i),$("#hints_edit_modal").modal("hide")}),$("#hints_edit_modal").on("shown.bs.modal",function(){loadHintContentCodeEditor()}),$("#hints_edit_modal").on("hidden.bs.modal",function(){eraseModalInputs(),update_hint_id=null;clearAlert("hint_edit_alert")});