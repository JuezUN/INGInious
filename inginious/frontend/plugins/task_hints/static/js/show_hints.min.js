function showHintAlert(t,n){let e=$("#hint_modal_alert");"success"===n&&e.attr("class","alert alert-success"),"error"===n&&e.attr("class","alert alert-danger"),e.text(t),e.show(),setTimeout(function(){hideHintAlert(e)},1e4)}function hideHintAlert(t){t.attr("class",""),t.text("")}function loadHintsOnModal(){$.get("/api/user_hints_api/",{course_id:getCourseId(),task_id:getTaskId()}).done(function(t){const n=t.data;setHintsOnContainer(n.hint_to_show),setTotalPenalty(n.total_penalty)})}function setHintUnlockedStatus(t,n){let e=n.unlocked;const i=$("#hint_menu_"+t).find("a");if(e){i.attr("class","list-group-item list-group-item-success");const t=n.penalty;i.find(".hint_penalty").text(t)}else{i.attr("class","list-group-item list-group-item-success disabled");i.find("label").html();i.find("label").html()}}function setHintsOnContainer(t){let n;$.each(t,function(t,e){n=e.unlocked;let i=$("#hint_"+t);if(n){const t=e.content;i.find(".hint_content").html(t);let n=i.find(".hint_applied_penalty");n.show(),n.find("em").text(e.penalty+"%")}else if(!existsUnlockFormContent(t)){let n=$("#hints_unlock_forms_list").clone().html();n=n.replace(/key/g,t),i.find(".hint_content").append(n),i.find(".hint_content .hint_unlock_form").show();const s=e.penalty;if(s&&0!==s)i.find(".hint_content .hint_unlock_penalty b").html(s+"%");else{let t="You can get this hint with no penalty.";i.find(".hint_content .hint_unlock_penalty").html(t)}}setHintUnlockedStatus(t,e)})}function setTotalPenalty(t){t&&$("#hints_total_penalty label").html(t+"%")}function existsUnlockFormContent(t){return $("#hint_"+t).find(".hint_content .hint_unlock_form").html()}function changeHint(t){let n="hint_"+t;$("#hint_info").hide(),$("#hint_container").show(),$(".task_hints").each(function(t,e){e.id===n?$("#"+e.id).show(500):$("#"+e.id).hide()})}function unlockNewHint(t){$.ajax({url:"/api/user_hints_api/",method:"POST",data:{course_id:getCourseId(),task_id:getTaskId(),hint_id:t}}).done(function(t){showHintAlert(t.message,t.status),updateHintsModalData(),sendUseTaskHintsAnalytics()})}function sendUseTaskHintsAnalytics(){$.post("/api/analytics/",{service:{key:"task_hints_unlock",name:"Task hints - Unlocked by students"},course_id:getCourseId()})}function showHelp(){$("#hint_info").show(500),$("#hint_container").hide()}function updateHintsModalData(){$("#hint_container").hide(),loadHintsOnModal(),$("#hint_container").show(500)}