function displayCourseCreationAlertError(e){const o=$("#create_course_alert");o.prop("class","alert alert-danger"),o.html(""),"text"in e?o.html(e.text):o.html("Something went wrong while creating the course. Please try again."),o.prop("hidden",!1)}function displayCourseCreationSuccessAlert(e){const o=$("#create_course_alert");o.prop("class","alert alert-success"),o.html(e.text),o.prop("hidden",!1)}function displayCourseCreationLoadingAlert(){const e=$("#create_course_alert");e.prop("class","alert alert-info");e.html("<i class='fa fa-spinner fa-pulse fa-fw' aria-hidden='true'></i> The course is being created..."),e.prop("hidden",!1)}function preventCourseCreationModalToBeClosed(){$("#create_course_modal").modal({backdrop:"static",keyboard:!1}),$("#create_course_modal button[data-dismiss=modal]").each(function(){$(this).prop("disabled",!0)})}function makeCourseCreationModalClosable(){$("#create_course_modal").modal({backdrop:"",keyboard:!0}),$("#create_course_modal button[data-dismiss=modal]").each(function(){$(this).prop("disabled",!1)})}function blurCourseCreationModal(){$("#create_course_modal input").prop("disabled",!0),$("#list_copy_courses").prop("disabled",!0),$("#submit_create_course").prop("disabled",!0)}function unblurCourseCreationModal(){$("#create_course_modal input").prop("disabled",!1),$("#list_copy_courses").prop("disabled",!1),$("#submit_create_course").prop("disabled",!1)}function redirectToCoursePage(e){window.open(location.origin+e.course_page).focus()}function onSubmitCourseCreation(){const e={course_name:$("#course_name").val(),course_group:$("#course_group").val(),course_year:$("#course_year").val(),course_period:$("#course_period").val(),course_to_copy_id:$("#list_copy_courses").val()};$.ajax({url:"/api/create_course",method:"POST",dataType:"json",data:e,beforeSend:()=>{blurCourseCreationModal(),preventCourseCreationModalToBeClosed(),displayCourseCreationLoadingAlert()},success:e=>{unblurCourseCreationModal(),makeCourseCreationModalClosable(),displayCourseCreationSuccessAlert(e),redirectToCoursePage(e)},error:e=>{const o=e.responseJSON||{};makeCourseCreationModalClosable(),unblurCourseCreationModal(),displayCourseCreationAlertError(o)}})}function onCloseModal(){$("#create_course_modal").on("hidden.bs.modal",function(){$("#create_course_modal input").val(""),$("#list_copy_courses").val("-1"),$("#create_course_alert").prop("hidden",!0)})}jQuery(document).ready(function(){onCloseModal(),$("#create_course_form").submit(function(e){e.preventDefault()}),$("#course_year").val((new Date).getFullYear()),$("#course_year").datetimepicker()});