var update_hint_id=null;function displayAlert(t,n){let e=$("#hint_edit_alert");e.text(t),e.show(),setTimeout(function(){clearAlert()},n)}function clearAlert(){let t=$("#hint_edit_alert");t.text(""),t.hide()}function loadHintContentCodeEditor(){$("#hint_content_container").show(),codeEditors.task_hints_content.refresh()}function onAddHintClick(){let t=$.extend({title:"",penalty:0,content:""},{title:$("#hint_title")[0].value,penalty:parseFloat($("#hint_penalty")[0].value),content:$("#hint_content")[0].value});if(!t.title||!t.content){return void displayAlert("You need to complete mandatory fields",1e4)}if(isNaN(t.penalty)){return void displayAlert("Hint penalty needs to be a number",1e4)}if(0>t.penalty||t.penalty>100){return void displayAlert("Hint penalty must be between 0.0% and 100.0%",1e4)}let n=$("#task_hints_table tbody tr").length;update_hint_id||0===update_hint_id?updateHintOnTable(t,update_hint_id):addHintOnTable(t,n),$("#hints_edit_modal").modal("hide")}function addHintOnTable(t,n){var e=$("#hint_hid").clone().html();e="<tr id="+("hint_"+n)+">"+(e=e.replace(/hid/g,n))+"</tr>",$("#task_hints_table tbody").append(e),$("#hint_info_title_"+n).val(t.title),$("#hint_info_penalty_"+n).val(t.penalty),$("#hint_info_content_"+n).text(t.content)}function updateHintOnTable(t,n){$("#hint_info_title_"+n).val(t.title),$("#hint_info_penalty_"+n).val(t.penalty),$("#hint_info_content_"+n).text(t.content)}function loadSavedHintFromTable(t){return{title:$("#hint_info_title_"+t).val(),penalty:$("#hint_info_penalty_"+t).val(),content:$("#hint_info_content_"+t).val()}}function onEditHintClick(t){update_hint_id=t;const n=loadSavedHintFromTable(t);$("#hint_title").val(n.title),$("#hint_penalty").val(n.penalty),codeEditors.task_hints_content.getDoc().setValue(n.content),$("#hints_edit_modal").modal("show")}function deleteHints(t){const n=$("#task_hints_table tbody tr").length;let e=[];for(let i=0;i<n;i++)i!==t&&e.push(loadSavedHintFromTable(i));$("#task_hints_table tbody").html(""),$.each(e,function(t,n){addHintOnTable(n,t)})}function eraseModalInputs(){$("#hint_title").val(""),$("#hint_penalty").val(0),codeEditors.task_hints_content.getDoc().setValue("")}$("#hints_edit_modal").on("shown.bs.modal",function(){loadHintContentCodeEditor()}),$("#hints_edit_modal").on("hidden.bs.modal",function(){eraseModalInputs(),update_hint_id=null,clearAlert()});