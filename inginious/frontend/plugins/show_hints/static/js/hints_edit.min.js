var update_hint_id=null;function displayAlert(t,e,n){alert=$("#"+t),alert.text(e),alert.show(),setTimeout(function(){clearAlert(t)},n)}function clearAlert(t){let e=$("#"+t);e.fadeTo(100,1).slideUp(250,()=>{e.slideUp(250),e.text("")})}function loadHintContentCodeEditor(){$("#hint_content_container").show(),codeEditors.task_hints_content.refresh()}function onSaveHintClick(){let t=$.extend({title:"",penalty:0,content:""},{title:$("#hint_title")[0].value,penalty:parseFloat($("#hint_penalty")[0].value),content:$("#hint_content")[0].value}),e=t.content.match(/^\s*$/);if(!t.title||e){return void displayAlert("hint_edit_alert","You need to complete mandatory fields",1e4)}if(isNaN(t.penalty)){return void displayAlert("hint_edit_alert","Hint penalty needs to be a number",1e4)}if(0>t.penalty||t.penalty>100){return void displayAlert("hint_edit_alert","Hint penalty must be between 0.0% and 100.0%",1e4)}$("#task_hints_table tbody tr").length;update_hint_id&&0!==update_hint_id&&updateHintOnTable(t,update_hint_id),$("#hints_edit_modal").modal("hide")}function addHintOnTable(){let t=$("#hint_id").val(),e="hint_"+t;if(t.match(/[a-zA-Z0-9]+$/))if(checkIDExists(t)){displayAlert("hint_tab_alert","The hint ID already exist for another hint",1e4)}else{var n=$("#hint_HID").clone().html();n="<tr id="+e+">"+(n=n.replace(/HID/g,t))+"</tr>",$("#task_hints_table tbody").append(n)}else{displayAlert("hint_tab_alert","The hint ID only should contains alphanumeric characters.",1e4)}}function checkIDExists(t){let e="hint_"+t,n=$("#task_hints_table tbody tr");const i=n.length;for(let t=0;t<i;t++)if(e==n[t].id)return!0;return!1}function updateHintOnTable(t,e){$("#hint_info_title_"+e).val(t.title),$("#hint_info_penalty_"+e).val(t.penalty),$("#hint_info_content_"+e).text(t.content)}function loadSavedHintFromTable(t){return{title:$("#hint_info_title_"+t).val(),penalty:$("#hint_info_penalty_"+t).val(),content:$("#hint_info_content_"+t).val()}}function onEditHintClick(t){update_hint_id=t;const e=loadSavedHintFromTable(t);$("#hint_title").val(e.title),$("#hint_penalty").val(e.penalty),codeEditors.task_hints_content.getDoc().setValue(e.content),$("#hints_edit_modal").modal("show")}function deleteHints(t){checkIDExists(t)&&$("#hint_"+t).remove()}function eraseModalInputs(){$("#hint_title").val(""),$("#hint_penalty").val(0),codeEditors.task_hints_content.getDoc().setValue("")}$("#hints_edit_modal").on("shown.bs.modal",function(){loadHintContentCodeEditor()}),$("#hints_edit_modal").on("hidden.bs.modal",function(){eraseModalInputs(),update_hint_id=null;clearAlert("hint_edit_alert")});