function load_input_code_multiple_languages(e,o,n){load_input_code(e,o,n),setDropDownWithTheRightLanguage(o,n[o+"/language"]),changeSubmissionLanguage(o)}function setDropDownWithTheRightLanguage(e,o){document.getElementById(e+"/language").value=o}function changeSubmissionLanguage(e){const o=getLanguageForProblemId(e),n=CodeMirror.findModeByName(o),t=codeEditors[e];t.setOption("inginiousLanguage",getInginiousLanguageForProblemId(e)),t.setOption("mode",n.mime),t.setOption("gutters",["CodeMirror-linenumbers","CodeMirror-foldgutter","CodeMirror-lint-markers"]),t.setOption("lint",{async:!0}),CodeMirror.autoLoadMode(t,n.mode)}function getLanguageForProblemId(e){return convertInginiousLanguageToCodemirror(getInginiousLanguageForProblemId(e))}function getInginiousLanguageForProblemId(e){const o=document.getElementById(e+"/language");return null==o?"plain":o.options[o.selectedIndex].value}function convertInginiousLanguageToCodemirror(e){return{java7:"java",java8:"java",js:"javascript",cpp:"cpp",cpp11:"cpp",c:"c",c11:"c",python2:"python",python3:"python",ruby:"ruby",vhdl:"vhdl",verilog:"verilog"}[e]}function studio_init_template_code_multiple_languages(e,o,n){"type"in n&&$("#type-"+o,e).val(n.type),"optional"in n&&n.optional&&$("#optional-"+o,e).attr("checked",!0),"languages"in n&&jQuery.each(n.languages,function(n,t){t&&$("#"+n+"-"+o,e).attr("checked",!0)})}function studio_init_template_notebook_file(e,o,n){"type"in n&&$("#type-"+o,e).val(n.type)}function load_input_notebook_file(e,o,n){load_input_file(e,o,n);const t=$("form#task").attr("action")+"?submissionid="+e+"&questionid="+o;$.ajax({url:t,method:"GET",dataType:"json",success:function(e){render_notebook(e)}}),highlight_code()}function studio_init_template_code_file_multiple_languages(e,o,n){"max_size"in n&&$("#maxsize-"+o,e).val(n.max_size),"allowed_exts"in n&&$("#extensions-"+o,e).val(n.allowed_exts.join()),"languages"in n&&jQuery.each(n.languages,function(n,t){t&&$("#"+n+"-"+o,e).attr("checked",!0)})}function load_input_code_file_multiple_languages(e,o,n){load_input_file(e,o,n),setDropDownWithTheRightLanguage(o,n[o+"/language"])}let selected_all_languages=!1;function toggle_languages_checkboxes(){selected_all_languages=!selected_all_languages,$(".checkbox_language").prop("checked",selected_all_languages);let e="Select all";selected_all_languages&&(e="Unselect All"),$("#toggle_select_languages_button").text(e)}const original_studio_subproblem_delete=this.studio_subproblem_delete;this.studio_subproblem_delete=(e=>{original_studio_subproblem_delete(e),toggle_display_new_subproblem_option()});const original_studio_create_new_subproblem=this.studio_create_new_subproblem;function toggle_display_new_subproblem_option(){const e=$("#accordion"),o=$("#new_subproblem");e.children().length?o.hide():o.show()}this.studio_create_new_subproblem=(()=>{original_studio_create_new_subproblem(),toggle_display_new_subproblem_option()});const render_notebook=function(e){const o=$("#notebook-holder")[0];$("#notebook-holder").hide();const n=this.notebook=nb.parse(e);for(;o.hasChildNodes();)o.removeChild(o.lastChild);o.appendChild(n.render()),highlight_code(),$("#notebook-holder").show()};function notebook_start_renderer(){$("#task_alert").after('<div class="DivToScroll DivWithScroll" id="notebook-holder" hidden></div>');try{const e=$("input[name="+getProblemId()+"]")[0];e.onchange=function(e){const o=this.files[0];if(void 0===o||"ipynb"!==o.name.split(".")[1])return $("#notebook-holder").html(""),void $("#notebook-holder").hide();!function(e){const o=new FileReader;o.onload=function(e){const o=JSON.parse(this.result);render_notebook(o)},o.readAsText(e)}(o)},e.onclick=function(){this.value=null,$("#notebook-holder").html(""),$("#notebook-holder").hide()}}catch(e){}}function highlight_code(){Prism.highlightAll()}function updateDiffBlock(e,o){$("#"+e).html(parseOutputDiff(o))}function createDownloadLink(e,o){const n=`<a ${'class="btn-link" download="'+e+'"'} href="${`/course/${getCourseId()}/${getTaskId()}/${e}`}" target="_blank">Download</a>`;document.getElementById(e+"_download_link").innerHTML=n+"<br/><br/>"}function parseOutputDiff(e){let o=[],n=e.split("\n");o.push('<strong>Legend:</strong> <span class="diff-missing-output">Only in the expected output</span> <span class="diff-additional-output">Only in your output</span> <span class="diff-common">Common</span> <span class="diff-position-control">Context information</span>');for(let e=0;e<n.length;++e){let t=n[e],i=null;if(t.startsWith("---"))i='<span class="diff-missing-output">'+t.substring(4)+"</span>";else if(t.startsWith("+++"))i='<span class="diff-additional-output">'+t.substring(4)+"</span>";else if(t.startsWith("@@"))i='<span class="diff-position-control">'+t+"</span>";else if(t.startsWith("-"))i='<span class="diff-missing-output">'+t.substring(1)+"</span>";else if(t.startsWith("+"))i='<span class="diff-additional-output">'+t.substring(1)+"</span>";else if(t.startsWith(" "))i='<span class="diff-common">'+t.substring(1)+"</span>";else if(t.startsWith("..."))i='<span class="diff-position-control">'+t+"</span>";else{if(""!==t)throw new Error("Unable to parse diff line: "+t);i=t}o.push(i)}return o.join("\n")}jQuery(document).ready(function(){toggle_display_new_subproblem_option(),notebook_start_renderer()});