function load_input_code_multiple_languages(e,t,s){load_input_code(e,t,s),setDropDownWithTheRightLanguage(t,s[t+"/language"]),changeSubmissionLanguage(t)}function setDropDownWithTheRightLanguage(e,t){document.getElementById(e+"/language").value=t}function changeSubmissionLanguage(e){var t=getLanguageForProblemId(e),s=codeEditors[e],n=CodeMirror.findModeByName(t);(s=codeEditors[e]).setOption("inginiousLanguage",getInginiousLanguageForProblemId(e)),s.setOption("mode",n.mime),s.setOption("gutters",["CodeMirror-linenumbers","CodeMirror-foldgutter","CodeMirror-lint-markers"]),s.setOption("lint",{async:!0}),CodeMirror.autoLoadMode(s,n.mode)}function getLanguageForProblemId(e){return convertInginiousLanguageToCodemirror(getInginiousLanguageForProblemId(e))}function getInginiousLanguageForProblemId(e){var t=document.getElementById(e+"/language");return null==t?"plain":t.options[t.selectedIndex].value}function convertInginiousLanguageToCodemirror(e){return{java7:"java",java8:"java",js:"javascript",cpp:"cpp",cpp11:"cpp",c:"c",c11:"c",python2:"python",python3:"python",ruby:"ruby",vhdl:"vhdl",verilog:"verilog"}[e]}function studio_init_template_code_multiple_languages(e,t,s){"type"in s&&$("#type-"+t,e).val(s.type),"optional"in s&&s.optional&&$("#optional-"+t,e).attr("checked",!0),"languages"in s&&jQuery.each(s.languages,function(s,n){n&&$("#"+s+"-"+t,e).attr("checked",!0)})}function studio_init_template_notebook_file(e,t,s){"type"in s&&$("#type-"+t,e).val(s.type)}function load_input_notebook_file(e,t,s){load_input_file(e,t,s)}function studio_init_template_code_file_multiple_languages(e,t,s){"max_size"in s&&$("#maxsize-"+t,e).val(s.max_size),"allowed_exts"in s&&$("#extensions-"+t,e).val(s.allowed_exts.join()),"languages"in s&&jQuery.each(s.languages,function(s,n){n&&$("#"+s+"-"+t,e).attr("checked",!0)})}function load_input_code_file_multiple_languages(e,t,s){load_input_file(e,t,s),setDropDownWithTheRightLanguage(t,s[t+"/language"])}let selected_all_languages=!1;function toggle_languages_checkboxes(){selected_all_languages=!selected_all_languages,$(".checkbox_language").prop("checked",selected_all_languages);let e="Select all";selected_all_languages&&(e="Unselect All"),$("#toggle_select_languages_button").text(e)}const original_studio_subproblem_delete=this.studio_subproblem_delete;this.studio_subproblem_delete=(e=>{original_studio_subproblem_delete(e),toggle_display_new_subproblem_option()});const original_studio_create_new_subproblem=this.studio_create_new_subproblem;function toggle_display_new_subproblem_option(){const e=$("#accordion"),t=$("#new_subproblem");e.children().length?t.hide():t.show()}function updateDiffBlock(e){let t=$("#"+e);t.html(parseOutputDiff(t.html()))}function createDownloadLink(e,t){var s="<a "+('class="btn-link" download="'+e+'"')+'href="data:text/plain;charset=utf-8,'+encodeURIComponent(t)+'">Download</a>';document.getElementById(e+"_download_link").innerHTML=s+"<br/><br/>"}function parseOutputDiff(e){let t=[],s=e.split("\\n");t.push('<strong>Legend:</strong> <span class="diff-missing-output">Only in the expected output</span> <span class="diff-additional-output">Only in your output</span> <span class="diff-common">Common</span> <span class="diff-position-control">Context information</span>');for(let e=0;e<s.length;++e){let n=s[e],a=null;if(n.startsWith("---"))a='<span class="diff-missing-output">'+n.substring(4)+"</span>";else if(n.startsWith("+++"))a='<span class="diff-additional-output">'+n.substring(4)+"</span>";else if(n.startsWith("@@"))a='<span class="diff-position-control">'+n+"</span>";else if(n.startsWith("-"))a='<span class="diff-missing-output">'+n.substring(1)+"</span>";else if(n.startsWith("+"))a='<span class="diff-additional-output">'+n.substring(1)+"</span>";else if(n.startsWith(" "))a='<span class="diff-common">'+n.substring(1)+"</span>";else if(n.startsWith("..."))a='<span class="diff-position-control">'+n+"</span>";else{if(""!==n)throw new Error("Unable to parse diff line: "+n);a=n}t.push(a)}return t.join("\n")}function updateWaveDromBlock(e){let t=$("#"+e),s=t.html();t.html(parseOutputDiff(s)+parseHDL(s)),WaveDrom.ProcessAll()}function parseHDL(e){let t=e.split("\\n"),s={},n={},a={},i={},o={},l={},r={},p=[],u=0,g=0;p.push('<script type="WaveDrom">'),p.push("{signal: [");for(let e=0;e<t.length;++e){let p=t[e],d=p.replace(/ /g,"").split(","),c=null,f=parseInt(d[1]);if(p.startsWith("---"))c='<span class="diff-missing-output">'+p.substring(4)+"</span>";else if(p.startsWith("+++"))c='<span class="diff-additional-output">'+p.substring(4)+"</span>";else if(p.startsWith("@@"))c='<span class="diff-position-control">'+p+"</span>";else if(p.startsWith("-")){let e=!1,t=!1;if(d.length>2){let a=2;for(;a<d.length;){if("INPUTS"===d[a])e=!0,t=!1;else if("OUTPUTS"===d[a])e=!1,t=!0;else{let i=d[a],r=d[a+1];e?(0==f?i.includes("[")?(o[i]=1,l[i]=[],s[i]="2",l[i].push("'"+r+"'")):s[i]=r:i in o?l[i].slice(-1)=="'"+r+"'"?s[i]+=".".repeat(f-u):(s[i]+=".".repeat(f-u-1)+"2",l[i].push("'"+r+"'")):s[i].replace(/\./g,"").slice(-1)===r?s[i]+=".".repeat(f-u):s[i]+=".".repeat(f-u-1)+r,a++):t&&(0==f?i.includes("[")?(o[i]=1,l[i]=[],n[i]="2",l[i].push("'"+r+"'")):n[i]=r:i in o?l[i].slice(-1)=="'"+r+"'"?n[i]+=".".repeat(f-u):(n[i]+=".".repeat(f-u-1)+"2",l[i].push("'"+r+"'")):n[i].replace(/\./g,"").slice(-1)===r?n[i]+=".".repeat(f-u):n[i]+=".".repeat(f-u-1)+r,a++)}a++}u=f}c='<span class="diff-missing-output">'+p.substring(1)+"</span>"}else if(p.startsWith("+")){let e=!1,t=!1;if(d.length>2){let s=2;for(;s<d.length;){if("INPUTS"===d[s])e=!0,t=!1;else if("OUTPUTS"===d[s])e=!1,t=!0;else{let n=d[s],l=d[s+1];e?(0==f?n.includes("[")?(o[n]=1,r[n]=[],a[n]="2",r[n].push("'"+l+"'")):a[n]=l:n in o?r[n].slice(-1)=="'"+l+"'"?a[n]+=".".repeat(f-g):(a[n]+=".".repeat(f-g-1)+"2",r[n].push("'"+l+"'")):a[n].replace(/\./g,"").slice(-1)===l?a[n]+=".".repeat(f-g):a[n]+=".".repeat(f-g-1)+l,s++):t&&(0==f?n.includes("[")?(o[n]=1,r[n]=[],i[n]="2",r[n].push("'"+l+"'")):i[n]=l:n in o?r[n].slice(-1)=="'"+l+"'"?i[n]+=".".repeat(f-g):(i[n]+=".".repeat(f-g-1)+"2",r[n].push("'"+l+"'")):i[n].replace(/\./g,"").slice(-1)===l?i[n]+=".".repeat(f-g):i[n]+=".".repeat(f-g-1)+l,s++)}s++}g=f}c='<span class="diff-additional-output">'+p.substring(1)+"</span>"}else if(p.startsWith(" ")){let e=!1,t=!1;if(d.length>2){let p=2;for(;p<d.length;){if("INPUTS"===d[p])e=!0,t=!1;else if("OUTPUTS"===d[p])e=!1,t=!0;else{let c=d[p],h=d[p+1];e?(0==f?c.includes("[")?(o[c]=1,r[c]=[],a[c]="2",r[c].push("'"+h+"'"),l[c]=[],s[c]="2",l[c].push("'"+h+"'")):(a[c]=h,s[c]=h):c in o?(l[c].slice(-1)=="'"+h+"'"?s[c]+=".".repeat(f-u):(s[c]+=".".repeat(f-u-1)+"2",l[c].push("'"+h+"'")),r[c].slice(-1)=="'"+h+"'"?a[c]+=".".repeat(f-g):(a[c]+=".".repeat(f-g-1)+"2",r[c].push("'"+h+"'"))):(s[c].replace(/\./g,"").slice(-1)===h?s[c]+=".".repeat(f-u):s[c]+=".".repeat(f-u-1)+h,a[c].replace(/\./g,"").slice(-1)===h?a[c]+=".".repeat(f-g):a[c]+=".".repeat(f-g-1)+h),p++):t&&(0==f?c.includes("[")?(o[c]=1,r[c]=[],i[c]="2",r[c].push("'"+h+"'"),l[c]=[],n[c]="2",l[c].push("'"+h+"'")):(i[c]=h,n[c]=h):c in o?(r[c].slice(-1)=="'"+h+"'"?i[c]+=".".repeat(f-g):(i[c]+=".".repeat(f-g-1)+"2",r[c].push("'"+h+"'")),l[c].slice(-1)=="'"+h+"'"?n[c]+=".".repeat(f-u):(n[c]+=".".repeat(f-u-1)+"2",l[c].push("'"+h+"'"))):(n[c].replace(/\./g,"").slice(-1)===h?n[c]+=".".repeat(f-u):n[c]+=".".repeat(f-u-1)+h,i[c].replace(/\./g,"").slice(-1)===h?i[c]+=".".repeat(f-g):i[c]+=".".repeat(f-g-1)+h),p++)}p++}u=f,g=f}}else p.startsWith("...")?c='<span class="diff-position-control">'+p+"</span>":""===p&&(c=p)}p.push('{name:"Inputs:"},');let d=65;for(var c in a)c in o?a[c]===s[c]&&r[c]===l[c]?p.push('{name:"'+c+'", wave: "'+s[c]+'", data:['+l[c]+"]},"):(dataDiff=parseDiffWaveDromBus(a[c],s[c],r[c],l[c]),p.push('{name:"'+c+'", '+dataDiff+"},"),p.push('{name:"'+c+'*", wave: "'+s[c]+'", data:['+l[c]+"]},")):a[c]===s[c]?p.push('{name:"'+c+'", wave: "'+a[c]+'"},'):(nodes=parseDiffWaveDrom(a[c],s[c],d),p.push('{name:"'+c+'", wave: "'+a[c]+'", node:"'+nodes+'"},'),p.push('{name:"'+c+'*", wave: "'+s[c]+'"},'),d+=nodes.length-(nodes.match(/\./g)||[]).length);for(var c in p.push('{name:"Outputs:"},'),i)c in o?i[c]===n[c]&&JSON.stringify(r[c])==JSON.stringify(l[c])?p.push('{name:"'+c+'", wave: "'+n[c]+'", data:['+l[c]+"]},"):(dataDiff=parseDiffWaveDromBus(i[c],n[c],r[c],l[c]),p.push('{name:"'+c+'", '+dataDiff+"},"),p.push('{name:"'+c+'*", wave: "'+n[c]+'", data:['+l[c]+"]},")):i[c]===n[c]?p.push('{name:"'+c+'", wave: "'+n[c]+'"},'):(nodes=parseDiffWaveDrom(i[c],n[c],d),p.push('{name:"'+c+'", wave: "'+i[c]+'", node:"'+nodes+'"},'),p.push('{name:"'+c+'*", wave: "'+n[c]+'"},'),d+=nodes.length-(nodes.match(/\./g)||[]).length);if(p.push("]"),65!=d){p.push(',"edge":['),edges=[];for(let e=65;e<d;e+=2)edges.push("'"+String.fromCharCode(e)+"|-|"+String.fromCharCode(e+1)+" diff'");p.push(edges.join(", ")),p.push("]")}return p.push("}"),p.push("<\/script>"),p.join("\n")}function parseDiffWaveDrom(e,t,s){let n="",a="",i="",o=!1;for(let l=0;l<e.length;l++)"."!==e[l]&&(a=e[l]),"."!==t[l]&&(i=t[l]),a!==i?o?n+=".":(n+=String.fromCharCode(s),s+=1,o=!0):o?(n+=String.fromCharCode(s),s+=1,o=!1):n+=".";return o&&(n+=String.fromCharCode(s)),n}function parseDiffWaveDromBus(e,t,s,n){let a="",i=[],o="",l="",r=!1,p=!1,u=0,g=0;for(let d=0;d<e.length;d++)"."!==e[d]&&(o=s[u],u++),"."!==t[d]&&(l=n[g],g++),o!=l?(r=!1,o!=i.slice(-1)&&(p=!1),p?a+=".":(p=!0,a+="9",i.push(o))):(p=!1,o!=i.slice(-1)&&(r=!1),r?a+=".":(r=!0,a+="2",i.push(o)));return'wave: "'+a+'", data:['+i+"]"}this.studio_create_new_subproblem=(()=>{original_studio_create_new_subproblem(),toggle_display_new_subproblem_option()}),jQuery(document).ready(function(){toggle_display_new_subproblem_option()});